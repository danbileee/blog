---
title: 짧은 궁금증 - Array? Object?
publishedAt: '2022-10-03'
updatedAt: '2022-10-03'
description: 자바스크립트 자료구조 중에서 array, object는  여러 데이터를 그룹화하는 두 가지 방법이라는 면에서 서로 유사하면서도 근본적으로 다르다. 그렇다면 둘 중 무엇이 더 효율적이고 좋은 자료구조일까?
tags: ['js']
---

# 질문

자바스크립트 자료구조 중에서 array, object는 여러 데이터를 그룹화하는 두 가지 방법이라는 면에서 서로 유사하면서도 근본적으로 다르다. 그렇다면 둘 중 무엇이 더 효율적이고 좋은 자료구조일까? 동료들의 PR 리뷰를 보면서 고민하게 된 주제이다. 명확한 답은 없고, use case에 따라 필요한 자료구조를 택하면 될 텐데 선택의 기준을 명확히 정리해보고자 한다.

## Reference

- [Practical JavaScript: Arrays vs. Objects](https://towardsdatascience.com/practical-javascript-arrays-vs-objects-3c1f895907bd)
- [Array vs Set vs Map vs Object — Real-time use cases in Javascript (ES6/ES7)](https://codeburst.io/array-vs-set-vs-map-vs-object-real-time-use-cases-in-javascript-es6-47ee3295329b)
- [Big O Performance of Arrays and Objects in JavaScript](https://javascript.plainenglish.io/performance-of-arrays-and-objects-in-javascript-through-the-lens-of-big-o-5a7c5891a43f)

## 요약

- 배열
  - 순서가 필요하다면 배열을 써라.
  - 다만 삽입, 삭제의 경우 맨처음과 맨끝 중 어디에 해당하는지에 따라 O(n)의 time complexity를 가진다.
  - 순환 메소드는 모두 O(n) 시간 복잡도를 가진다.
  - 리액트에서는 같은 데이터 구조를 가진 아이템들의 배열을 순환하여 컴포넌트를 그리는 패턴이 일반적이다.
- 객체
  - searching과 Object.keys, Object.values, Object.entries 등의 메소드를 사용할 때는 O(n)만큼 시간 복잡도를 가진다.
  - 삽입, 삭제, 접근 등의 기본적인 수행은 O(1)이다.
  - 순서가 필요하지 않다면 객체로 작업하는 것이 배열보다 훨씬 빠르다.
  - 다만 객체를 순환하려면 for…in 구문을 사용할 때 직관적이지 않은 부분이 좀 있다. 많은 경우 배열로 변환한 후 처리하곤 한다. (Object.keys/values/entries..)

## 노트

- 배열의 sort 메소드는 Unicode를 기반으로 정렬을 수행한다. 따라서 원하는 comparator 함수를 인자로 넘겨주는 것이 일반적이다.
  - 특히 객체들의 배열을 정렬하는 방법에 대해 새롭게 알게 됐다. `localeCompare`

```js
// array of strings in a uniform case without special characters
const arr = ['sex', 'age', 'job'];
arr.sort(); //returns ["age", "job", "sex"]
// array of numbers
const arr = [30, 4, 29, 19];
arr.sort((a, b) => a - b); // returns [4, 19, 29, 30]
// array of number strings
const arr = ['30', '4', '29', '19'];
arr.sort((a, b) => a - b); // returns ["4", "19", "29", "30"]
// array of mixed numerics
const arr = [30, '4', 29, '19'];
arr.sort((a, b) => a - b); // returns ["4", "19", 29, 30]
// array of non-ASCII strings and also strings
const arr = ['réservé', 'cliché', 'adieu'];
arr.sort((a, b) => a.localeCompare(b)); // returns is ['adieu', 'cliché','réservé']
// array of objects
const arr = [
  { name: 'Sharpe', value: 37 },
  { name: 'And', value: 45 },
  { name: 'The', value: -12 },
];
// sort by name string
arr.sort((a, b) => a['name'].localeCompare(b['name']));
// sort by value number
arr.sort((a, b) => a['value'] - b['value']);
```

- 객체에는 sorting을 위한 내장 메소드가 없다.
  - 다만 ES6에서는 객체를 생성할 때 키값을 정렬하는 기능이 내장되어 있다. (numeric/numeric-string에 한해서)

```js
// object with numeric/numeric-string keys are sorted
const obj = { 30: 'dad', 4: 'kid', 19: 'teen', 100: 'grams' };
console.log(obj); // returns {4: "kid", 19: "teen", 30: "dad", 100: "grams"} with sorted keys
// object with key-values as alpha-strings are not sorted
const obj = { b: 'two', a: 'one', c: 'three' };
console.log(obj); // returns {b: "two", a: "one", c: "three"}
// object with numeric, numeric-string and alpha keys are partially sorted. (i.e only numeric keys are sorted)
const obj = { b: 'one', 4: 'kid', 30: 'dad', 9: 'son', a: 'two' };
console.log(obj); // returns {4: "kid", 9: "son", 30: "dad", b: "one", a: "two"}
```
